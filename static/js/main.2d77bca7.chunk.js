(this["webpackJsonpcovid-tracker"]=this["webpackJsonpcovid-tracker"]||[]).push([[0],{181:function(e,t,a){},205:function(e,t,a){"use strict";a.r(t);var c=a(3),n=a(1),r=a.n(n),o=a(7),s=a.n(o),i=(a(67),a(16)),u=a.n(i),l=a(42),d=a(37),h=a(4),b=a(41),j=(a(69),a(61)),m=a(38),p=a.n(m),f=a(40),O=(a(44),a(24));var v=function(e){var t=e.title,a=e.firstLabel,r=e.secondLabel,o=e.graphData,s=(e.type,e.dotRadius),i=Object(n.useState)({}),u=Object(h.a)(i,2),l=u[0],d=u[1];return Object(n.useEffect)((function(){d({labels:o.map((function(e){return e.date.date})),datasets:[{label:a,data:o.map((function(e){return e.confirmed})),backgroundColor:"rgba(1,1,1,0)",borderWidth:2,borderColor:"red",radius:s},{label:r,data:o.map((function(e){return e.recovered})),backgroundColor:"rgba(1,1,1,0)",borderWidth:2,borderColor:"turquoise",radius:s}]})}),[o]),Object(c.jsxs)("div",{className:"chart",children:[Object(c.jsx)("h2",{className:"country-title",children:t}),Object(c.jsx)(O.Line,{data:l,height:null,width:null,options:{aspectRatio:1.15,resposive:!0,legend:{labels:{fontSize:15,fontColor:"black"}}}})]})},g=(a(181),a(182),a(60)),y=a.n(g);var x=function(e){var t=e.text;return Object(c.jsxs)("div",{className:"loading",children:[Object(c.jsx)(y.a,{type:"Oval",color:"black",height:70,width:70}),t]})};var N=function(e){var t=e.title,a=e.type,r=e.graphData,o=e.dotRadius,s=e.label,i=e.color,u=Object(n.useState)({}),l=Object(h.a)(u,2),d=l[0],b=l[1];return Object(n.useEffect)((function(){b({labels:r.map((function(e){return e.date.date})),datasets:[{label:s,data:r.map((function(e){return"Active"==a?e.active:e.deaths})),backgroundColor:"rgba(1,1,1,0)",borderWidth:2,borderColor:i,radius:o}]})}),[r]),Object(c.jsxs)("div",{className:"chart",children:[Object(c.jsx)("h2",{className:"country-title",children:t}),Object(c.jsx)(O.Line,{data:d,height:null,width:null,options:{aspectRatio:1.15,resposive:!0,legend:{labels:{fontSize:15,fontColor:"black"}}}})]})},k=a(202),D=function(e){return new Promise((function(t,a){setTimeout((function(){return a("Error!")}),5e3),k("https://api.covid19api.com/country/".concat(e)).then((function(e){return e.json()})).then((function(e){t(Object(b.a)(e))})).catch((function(e){a(e)}))}))},w=function(){var e=Object(n.useState)(!1),t=Object(h.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)([]),s=Object(h.a)(o,2),i=s[0],m=s[1],O=Object(n.useState)([]),g=Object(h.a)(O,2),y=g[0],w=g[1],C=Object(n.useState)([]),S=Object(h.a)(C,2),T=S[0],A=S[1],I=Object(n.useState)(!0),M=Object(h.a)(I,2),R=M[0],F=M[1],E=Object(n.useState)(),L=Object(h.a)(E,2),J=L[0],P=L[1],z=Object(n.useState)(),B=Object(h.a)(z,2),V=B[0],W=B[1],Y=Object(n.useState)(null),Z=Object(h.a)(Y,2),_=Z[0],q=Z[1],U=Object(n.useState)(new Date),G=Object(h.a)(U,2),H=G[0],K=G[1],Q=Object(n.useState)(new Date),X=Object(h.a)(Q,2),$=X[0],ee=X[1],te=Object(n.useState)(!1),ae=Object(h.a)(te,2),ce=ae[0],ne=ae[1],re=function(e){var t=[],a=[];return e.forEach((function(e){var c=e.slice(8,e.length),n=e.slice(5,7),r=e.slice(0,4);switch(a[a.length-1]!==r&&a.push(r),n){case"01":t.push({month:"January",monthNum:"01",year:r,day:c,date:"".concat(c," Jan ").concat(r)});break;case"02":t.push({month:"February",monthNum:"02",year:r,day:c,date:"".concat(c," Feb ").concat(r)});break;case"03":t.push({month:"March",monthNum:"03",year:r,day:c,date:"".concat(c," March ").concat(r)});break;case"04":t.push({month:"April",monthNum:"04",year:r,day:c,date:"".concat(c," April ").concat(r)});break;case"05":t.push({month:"May",monthNum:"05",year:r,day:c,date:"".concat(c," May ").concat(r)});break;case"06":t.push({month:"June",monthNum:"06",year:r,day:c,date:"".concat(c," June ").concat(r)});break;case"07":t.push({month:"July",monthNum:"07",year:r,day:c,date:"".concat(c," July ").concat(r)});break;case"08":t.push({month:"August",monthNum:"08",year:r,day:c,date:"".concat(c," Aug ").concat(r)});break;case"09":t.push({month:"September",monthNum:"09",year:r,day:c,date:"".concat(c," Sept ").concat(r)});break;case"10":t.push({month:"October",monthNum:"10",year:r,day:c,date:"".concat(c," Oct ").concat(r)});break;case"11":t.push({month:"November",monthNum:"11",year:r,day:c,date:"".concat(c," Nov ").concat(r)});break;case"12":t.push({month:"December",monthNum:"12",year:r,day:c,date:"".concat(c," Dec ").concat(r)})}})),t},oe=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,c,n,o,s,i,d,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D(t.value);case 3:a=e.sent,c=a.map((function(e){return{name:e.Country,confirmed:e.Confirmed,recovered:e.Recovered,active:e.Active,deaths:e.Deaths,date:e.Date.slice(0,10)}})),n=c.map((function(e){return e.date})),o=re(n),s=0,c=c.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{date:o[s++]})})),i=c[0],d=c[c.length-1],P(new Date("".concat(i.date.year,"-").concat(i.date.monthNum,"-").concat(i.date.day))),W(new Date("".concat(d.date.year,"-").concat(d.date.monthNum,"-").concat(d.date.day))),m(c),h=c.filter((function(e){return e.date.year==d.date.year&&e.date.monthNum==d.date.monthNum&&parseInt(e.date.day)<=parseInt(d.date.day)})),w(h),r(!0),F(!1),e.next=26;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0),ne(!0),r(!1),F(!1);case 26:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}(),se=function(e,t){null==e?e=H:null==t&&(t=$);var a=e.getDate(),c=e.getMonth()+1,n=e.getFullYear(),r=t.getDate(),o=t.getMonth()+1,s=t.getFullYear(),u=[];i.forEach((function(e){var t=parseInt(e.date.day),i=parseInt(e.date.monthNum),l=parseInt(e.date.year);i>=c&&i<=o&&l>=n&&l<=s&&(c!=o?i==c?t>=a&&u.push(e):i==o?t<=r&&u.push(e):u.push(e):t>=a&&t<=r&&u.push(e))})),w(u)};return Object(n.useEffect)(Object(d.a)(u.a.mark((function e(){var t,a,c,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.a.initialize("UA-183443755-2"),f.a.pageview("/"),e.prev=2,e.next=5,new Promise((function(e,t){setTimeout((function(){return t("Error!")}),1e4),k("https://api.covid19api.com/summary").then((function(e){return e.json()})).then((function(t){console.log(t);var a=(t=t.Countries).map((function(e){return{name:e.Country,slug:e.Slug}}));e(Object(b.a)(a))})).catch((function(e){setTimeout((function(){return t(e)}),5e3)}))}));case 5:t=(t=e.sent).filter((function(e){return"united-states"!=e.slug})),A(t),oe({value:t[0].slug}),a=new Date,c=new Date(a.getFullYear(),a.getMonth(),1),K(c),(n=new Date(c.getTime())).setDate(n.getDate()+2),q(n),e.next=23;break;case 17:e.prev=17,e.t0=e.catch(2),console.log(e.t0),ne(!0),r(!1),F(!1);case 23:case"end":return e.stop()}}),e,null,[[2,17]])}))),[]),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("h1",{className:"heading",children:"COVID-19 Tracker"}),Object(c.jsx)("h2",{id:"daddy",children:"By Zoraiz"}),Object(c.jsx)("hr",{style:{width:"95%"}}),Object(c.jsxs)("div",{className:"selectors",children:[Object(c.jsxs)("div",{className:"select-container",children:[Object(c.jsx)("h3",{children:"Select Country / Region"}),Object(c.jsx)(j.a,{options:T.map((function(e){return{value:e.slug,label:e.name}})),onChange:oe})]}),Object(c.jsxs)("div",{className:"date-picker-wrapper",children:[Object(c.jsxs)("div",{className:"date-picker",children:[Object(c.jsx)("h3",{children:"From"}),Object(c.jsx)(p.a,{format:"dd-MM-y",onChange:function(e){K(e);var t=new Date(e.getTime());t.setDate(t.getDate()+2),q(t),se(e,null)},value:H,clearIcon:null,minDate:J,maxDate:V,className:"picker"})]}),Object(c.jsxs)("div",{className:"date-picker",children:[Object(c.jsx)("h3",{children:"To"}),Object(c.jsx)(p.a,{format:"dd-MM-y",onChange:function(e){ee(e),se(null,e)},value:$,clearIcon:null,minDate:_,maxDate:V,className:"picker"})]})]})]}),Object(c.jsx)("hr",{style:{width:"95%"}}),a&&Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)(v,{title:"".concat(i[0].name," Cases & Recoveries"),firstLabel:"Total Cases",secondLabel:"Total Recoveries",graphData:y,dotRadius:0}),Object(c.jsx)(N,{title:"".concat(i[0].name," Active Cases"),type:"Active",label:"Active Cases",graphData:y,color:"orange",dotRadius:0}),Object(c.jsx)(N,{title:"".concat(i[0].name," Total Deaths"),type:"Deaths",label:"Total Deaths",graphData:y,color:"red",dotRadius:0})]}),R&&Object(c.jsx)(x,{className:"charts",text:"Loading..."}),ce&&Object(c.jsxs)("div",{className:"error-wrapper",children:[Object(c.jsx)("h1",{children:"Error!"}),Object(c.jsx)("p",{children:"There was an error retrieving the data. Please refresh the page or try again after a few minutes."})]}),Object(c.jsxs)("div",{className:"about",children:[Object(c.jsx)("h2",{children:"About"}),Object(c.jsxs)("p",{children:["The data used for the graphs in this project is publicly available and was obtained from the COVID 19 API ",Object(c.jsx)("a",{href:"https://covid19api.com",target:"_blank",children:"here"}),". All credits for the data go to the source. Please visit their website and support them if you can.",Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),"The project is open source and you can view the source code ",Object(c.jsx)("a",{href:"https://github.com/TheZoraiz/React-COVID19-Tracker",target:"_blank",children:"here"})]})]})]})},C=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,207)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),c(e),n(e),r(e),o(e)}))};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(w,{})}),document.getElementById("root")),C()},44:function(e,t,a){},67:function(e,t,a){},69:function(e,t,a){}},[[205,1,2]]]);
//# sourceMappingURL=main.2d77bca7.chunk.js.map